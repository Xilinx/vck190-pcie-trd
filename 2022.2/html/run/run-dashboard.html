<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->

<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="03af8d57-0a04-47a6-8f10-322fa00d8fc7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
<!-- Google Tag Manager -->
<script type="text/plain" class="optanon-category-C0002">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5RHQV7');</script>
<!-- End Google Tag Manager -->
  <title>3.2. Run the PCIe TRD Dashboard &mdash; Versal PCIe TRD 2022.2 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3.3. Run 2D Filter Application" href="run-filter2d.html" />
    <link rel="prev" title="3.1. Board and System settings" href="run-setup.html" /> 
</head>

<body class="wy-body-for-nav">

<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5RHQV7" height="0" width="0" style="display:none;visibility:hidden" class="optanon-category-C0002"></iframe></noscript>
<!-- End Google Tag Manager --> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="../index.html" class="icon icon-home"> Versal PCIe TRD
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../revision.html">1. Revision History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">2. Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../run.html">3. Run the Prebuilt Image</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="run-setup.html">3.1. Board and System settings</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">3.2. Run the PCIe TRD Dashboard</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#connect-to-the-bokeh-server">3.2.1. Connect to the Bokeh Server</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#setting-up-a-private-network">3.2.1.1. Setting up a private network</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#start-the-dashboard">3.2.2. Start the Dashboard</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="run-filter2d.html">3.3. Run 2D Filter Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="run-xvdpu.html">3.4. Run XVDPU application</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../build.html">4. Build an Image</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arch.html">5. Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../known-issues.html">6. Known Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">7. Support</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: black" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Versal PCIe TRD</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../run.html"><span class="section-number">3. </span>Run the Prebuilt Image</a> &raquo;</li>
      <li><span class="section-number">3.2. </span>Run the PCIe TRD Dashboard</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/run/run-dashboard.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="run-the-pcie-trd-dashboard">
<h1><span class="section-number">3.2. </span>Run the PCIe TRD Dashboard<a class="headerlink" href="#run-the-pcie-trd-dashboard" title="Permalink to this heading">¶</a></h1>
<p>The PCIe TRD dashboard is implemented using the python bokeh framework and
visualizes the following useful platform statistics:</p>
<ul class="simple">
<li><p>CPU utilization</p></li>
<li><p>Memory usage</p></li>
<li><p>Temperature using the versal-sysmon device through the <code class="docutils literal notranslate"><span class="pre">hwmon</span></code> interface</p></li>
<li><p>Power and voltage using the ina226 power monitors through the <code class="docutils literal notranslate"><span class="pre">hwmon</span></code> interface</p></li>
<li><p>Memory throughput using the AXI performance monitors (APM) in the PL</p></li>
</ul>
<p>The dashboard is intended to be run in parallel with any of the accelerated
applications and is useful to monitor, evaluate and debug system performance
while the target application is running live. A network connection is required
to run the bokeh server.</p>
<section id="connect-to-the-bokeh-server">
<h2><span class="section-number">3.2.1. </span>Connect to the Bokeh Server<a class="headerlink" href="#connect-to-the-bokeh-server" title="Permalink to this heading">¶</a></h2>
<p>Follow these steps to boot the board into Linux. These steps can be skipped
if you are already at the Linux prompt <em>xilinx-vck190-20222</em></p>
<ul>
<li><p>Ensure all steps under the section <a class="reference internal" href="run-setup.html#board-setup"><span class="std std-ref">Board Setup</span></a> are verified.</p></li>
<li><p>Insert the prepared micro SD card into the Versal SD card slot (refer to the
image in <a class="reference internal" href="run-setup.html#board-setup"><span class="std std-ref">Board Setup</span></a>)</p></li>
<li><p>Have the UART0 terminal emulator tab connected.</p></li>
<li><p>Turn ON power switch SW13.</p></li>
<li><p>On Versal UART0 terminal, you would see the Versal device booting from the
micro SD card, starting with the message
“Xilinx Versal Platform Loader and Manager”</p></li>
<li><p>In about 60 seconds boot is complete. Observe the Linux prompt
<em>xilinx-vck190-20222</em> and finish logging in.</p></li>
<li><p>Observe autostart of the bokeh server that serves the
Base TRD dashboard application as seen in the example below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>xilinx-vck190-20222<span class="w"> </span>login:<span class="w"> </span>petalinux

<span class="o">[</span><span class="w">   </span><span class="m">24</span>.344617<span class="o">]</span><span class="w"> </span>trd-dashboard.sh<span class="o">[</span><span class="m">684</span><span class="o">]</span>:<span class="w"> </span>TRD<span class="w"> </span>Dashboard<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>running<span class="w"> </span>at<span class="w"> </span>http://192.168.0.13:5006/trd-dashboard
<span class="o">[</span><span class="w">   </span><span class="m">28</span>.466649<span class="o">]</span><span class="w"> </span>trd-dashboard.sh<span class="o">[</span><span class="m">697</span><span class="o">]</span>:<span class="w"> </span><span class="m">2022</span>-11-26<span class="w"> </span><span class="m">23</span>:52:55,858<span class="w"> </span>Starting<span class="w"> </span>Bokeh<span class="w"> </span>server<span class="w"> </span>version<span class="w"> </span><span class="m">2</span>.4.2<span class="w"> </span><span class="o">(</span>running<span class="w"> </span>on<span class="w"> </span>Tornado<span class="w"> </span><span class="m">6</span>.1<span class="o">)</span>
<span class="o">[</span><span class="w">   </span><span class="m">28</span>.475214<span class="o">]</span><span class="w"> </span>trd-dashboard.sh<span class="o">[</span><span class="m">697</span><span class="o">]</span>:<span class="w"> </span><span class="m">2022</span>-11-26<span class="w"> </span><span class="m">23</span>:52:55,867<span class="w"> </span>User<span class="w"> </span>authentication<span class="w"> </span>hooks<span class="w"> </span>NOT<span class="w"> </span>provided<span class="w"> </span><span class="o">(</span>default<span class="w"> </span>user<span class="w"> </span>enabled<span class="o">)</span>
<span class="o">[</span><span class="w">   </span><span class="m">28</span>.498431<span class="o">]</span><span class="w"> </span>trd-dashboard.sh<span class="o">[</span><span class="m">697</span><span class="o">]</span>:<span class="w"> </span><span class="m">2022</span>-11-26<span class="w"> </span><span class="m">23</span>:52:55,890<span class="w"> </span>Bokeh<span class="w"> </span>app<span class="w"> </span>running<span class="w"> </span>at:<span class="w"> </span>http://localhost:5006/trd-dashboard
<span class="o">[</span><span class="w">   </span><span class="m">28</span>.499011<span class="o">]</span><span class="w"> </span>trd-dashboard.sh<span class="o">[</span><span class="m">697</span><span class="o">]</span>:<span class="w"> </span><span class="m">2022</span>-11-26<span class="w"> </span><span class="m">23</span>:52:55,891<span class="w"> </span>Starting<span class="w"> </span>Bokeh<span class="w"> </span>server<span class="w"> </span>with<span class="w"> </span>process<span class="w"> </span>id:<span class="w"> </span><span class="m">697</span>
</pre></div>
</div>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you do not see the above messages or after a TIMEOUT of 90 seconds you see a message log with ‘IP address not found’ instead,</p>
<p><cite>trd-dashboard.sh[682]: Cant find IP addr, please call /usr/bin/trd-dashboard.sh after assigning IP addr</cite></p>
<p>then double check your network connection. If DHCP is not available and auto-assigment
of an IP address times out, you can use a private network and start the bokeh
server as follows. User is required to use sudo while running trd-dashboard or jupyter-lab. It is adviced
to use systemctl to start the abover services as shown below.</p>
</div>
<section id="setting-up-a-private-network">
<h3><span class="section-number">3.2.1.1. </span>Setting up a private network<a class="headerlink" href="#setting-up-a-private-network" title="Permalink to this heading">¶</a></h3>
<p>In case of a private network, user can assign a static address within
the subnet of the host machine.</p>
<p><strong>Setting up a private network with target board and the host machine for
Windows users:</strong></p>
<ul>
<li><p>Ensure a direct connection between the windows host machine and the target
board using an ethernet cable as shown in the <a class="reference internal" href="run-setup.html#board-setup"><span class="std std-ref">Board Setup</span></a> section.</p></li>
<li><p>In windows, run command prompt as an admisntrator</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Press<span class="w"> </span>Windows+R<span class="w"> </span>to<span class="w"> </span>open<span class="w"> </span>the<span class="w"> </span>“Run”<span class="w"> </span>box.
Type<span class="w"> </span>“cmd”<span class="w"> </span>into<span class="w"> </span>the<span class="w"> </span>box.
press<span class="w"> </span>Ctrl+Shift+Enter<span class="w"> </span>to<span class="w"> </span>run<span class="w"> </span>the<span class="w"> </span><span class="nb">command</span><span class="w"> </span>as<span class="w"> </span>an<span class="w"> </span>administrator
</pre></div>
</div>
</li>
<li><p>Run ipconfig on the windows machine to list available ethernet adapters and
set a static private ip</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># A sample output after executing ipconfig</span>
<span class="c1"># notice interface &quot;Ethernet&quot; has an auto address assigned with no Default Gateway</span>

ipconfig

Ethernet<span class="w"> </span>adapter<span class="w"> </span>Ethernet:

<span class="w">   </span>Connection-specific<span class="w"> </span>DNS<span class="w"> </span>Suffix<span class="w">  </span>.<span class="w"> </span>:
<span class="w">   </span>Link-local<span class="w"> </span>IPv6<span class="w"> </span>Address<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>:<span class="w"> </span>fe80::1d8d:ac40:ff9b:8d1%21
<span class="w">   </span>Autoconfiguration<span class="w"> </span>IPv4<span class="w"> </span>Address.<span class="w"> </span>.<span class="w"> </span>:<span class="w"> </span><span class="m">169</span>.254.8.209
<span class="w">   </span>Subnet<span class="w"> </span>Mask<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>:<span class="w"> </span><span class="m">255</span>.255.0.0
<span class="w">   </span>Default<span class="w"> </span>Gateway<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>.<span class="w"> </span>:

<span class="c1"># Set static ip address</span>
netsh<span class="w"> </span>interface<span class="w"> </span>ip<span class="w"> </span><span class="nb">set</span><span class="w"> </span>address<span class="w"> </span><span class="nv">name</span><span class="o">=</span><span class="s2">&quot;YOUR INTERFACE NAME&quot;</span><span class="w"> </span>static<span class="w"> </span><span class="s2">&quot;IP_ADDRESS&quot;</span><span class="w"> </span><span class="s2">&quot;SUBNET_MASK&quot;</span>

<span class="c1"># Example</span>
netsh<span class="w"> </span>interface<span class="w"> </span>ip<span class="w"> </span><span class="nb">set</span><span class="w"> </span>address<span class="w"> </span><span class="nv">name</span><span class="o">=</span><span class="s2">&quot;Ethernet&quot;</span><span class="w"> </span>static<span class="w"> </span><span class="m">10</span>.0.0.1<span class="w"> </span><span class="m">255</span>.255.255.0
</pre></div>
</div>
</li>
<li><p>Ensure to boot the target board (VCK190) into Linux</p></li>
<li><p>Set a private ip address for the target within the subnet of host machine and
verify connectivity.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>ifconfig<span class="w"> </span>eth0<span class="w"> </span><span class="m">10</span>.0.0.2<span class="w"> </span>netmask<span class="w"> </span><span class="m">255</span>.255.255.0

<span class="c1"># Perform a ping test to the host form the target</span>
ping<span class="w"> </span>-c<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">10</span>.0.0.1
</pre></div>
</div>
</li>
</ul>
<p><strong>Setting up a private network with target board and the host machine for Linux
users:</strong></p>
<ul>
<li><p>Make a direct connection between the Linux host machine and the target board
using an ethernet cable</p></li>
<li><p>Run ifconfig on the Linux machine to list available ethernet adapters and set
a static private ip</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example to set an ip 10.0.0.1 to ethernet interface enp2s0:</span>
sudo<span class="w"> </span>ifconfig<span class="w"> </span>enp2s0<span class="w"> </span><span class="m">10</span>.0.0.1<span class="w"> </span>netmask<span class="w"> </span><span class="m">255</span>.255.255.0
</pre></div>
</div>
</li>
<li><p>Ensure to boot the target board (VCK190) into Linux</p></li>
<li><p>Set a private ip address for the target within the subnet of host machine and
verify connectivity.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>ifconfig<span class="w"> </span>eth0<span class="w"> </span><span class="m">10</span>.0.0.2<span class="w"> </span>netmask<span class="w"> </span><span class="m">255</span>.255.255.0

<span class="c1"># Perform a ping test to the host form the target</span>
ping<span class="w"> </span>-c<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">10</span>.0.0.1
</pre></div>
</div>
</li>
<li><p>To start the bokeh server run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>trd-dashboard
</pre></div>
</div>
</li>
<li><p>To check the status of bokeh server run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>systemctl<span class="w"> </span>status<span class="w"> </span>trd-dashboard
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="start-the-dashboard">
<h2><span class="section-number">3.2.2. </span>Start the Dashboard<a class="headerlink" href="#start-the-dashboard" title="Permalink to this heading">¶</a></h2>
<p><strong>Note:</strong> This dashboard is tested with the Chrome browser only and optimized
for a display resolution of 1920x1080.</p>
<ul>
<li><p>To connect to the bokeh server and to start the dashboard, copy the URL
printed on the serial console and paste it into the Chrome browser address
bar, for example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://192.168.1.133:5006/trd-dashboard
</pre></div>
</div>
</li>
<li><p>The dashboard will be rendered in your browser and should look as follows</p>
<a class="reference internal image-reference" href="../_images/dashboard.jpg"><img alt="Base TRD Dashboard" src="../_images/dashboard.jpg" style="width: 1500px;" /></a>
</li>
</ul>
<hr class="docutils" />
<p>Licensed under the Apache License, Version 2.0 (the “License”); you may not use this file
except in compliance with the License.</p>
<p>You may obtain a copy of the License at
<a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the
License is distributed on an “AS IS” BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
either express or implied. See the License for the specific language governing permissions
and limitations under the License.</p>
</section>
</section>


           </div>
          </div>
          
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
				  
				  <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="run-setup.html" class="btn btn-neutral float-left" title="3.1. Board and System settings" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="run-filter2d.html" class="btn btn-neutral float-right" title="3.3. Run 2D Filter Application" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023-2023, Advanced Micro Devices, Inc.
      <span class="lastupdated">Last updated on May 19, 2023.
      </span></p>
  </div>



										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">

													                    <div class="row">
                        <div class="col-xs-24">
                          <p><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a> | <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a> | <a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a> | <a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a> | <a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></p>
                        </div>
                    </div>
												</div>
											</div>
										</div>
										
</br>


  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>