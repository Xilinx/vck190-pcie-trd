<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->

<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="03af8d57-0a04-47a6-8f10-322fa00d8fc7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
<!-- Google Tag Manager -->
<script type="text/plain" class="optanon-category-C0002">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5RHQV7');</script>
<!-- End Google Tag Manager -->
  <title>3.4. Run XVDPU application &mdash; Versal PCIe TRD 2022.2 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4. Build an Image" href="../build.html" />
    <link rel="prev" title="3.3. Run 2D Filter Application" href="run-filter2d.html" /> 
</head>

<body class="wy-body-for-nav">

<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5RHQV7" height="0" width="0" style="display:none;visibility:hidden" class="optanon-category-C0002"></iframe></noscript>
<!-- End Google Tag Manager --> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="../index.html" class="icon icon-home"> Versal PCIe TRD
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../revision.html">1. Revision History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">2. Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../run.html">3. Run the Prebuilt Image</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="run-setup.html">3.1. Board and System settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="run-dashboard.html">3.2. Run the PCIe TRD Dashboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="run-filter2d.html">3.3. Run 2D Filter Application</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">3.4. Run XVDPU application</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#smart-mipi-app">3.4.1. SMART-MIPI-APP</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#examples-for-single-mipi-sensor">3.4.1.1. Examples for single-mipi sensor</a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-options">3.4.1.2. Command Options:</a></li>
<li class="toctree-l4"><a class="reference internal" href="#files-structure-of-the-application">3.4.1.3. Files structure of the application</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pcie-gst-app">3.4.2. PCIE-GST-APP</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#setup">3.4.2.1. Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#run-host-application">3.4.2.2. Run Host application</a></li>
<li class="toctree-l4"><a class="reference internal" href="#run-end-point-application">3.4.2.3. Run end-point application</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../build.html">4. Build an Image</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arch.html">5. Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../known-issues.html">6. Known Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">7. Support</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: black" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Versal PCIe TRD</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../run.html"><span class="section-number">3. </span>Run the Prebuilt Image</a> &raquo;</li>
      <li><span class="section-number">3.4. </span>Run XVDPU application</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/run/run-xvdpu.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="run-xvdpu-application">
<h1><span class="section-number">3.4. </span>Run XVDPU application<a class="headerlink" href="#run-xvdpu-application" title="Permalink to this heading">¶</a></h1>
<p>There are two applications could be run to show the AI inference capability of XVDPU.</p>
<section id="smart-mipi-app">
<h2><span class="section-number">3.4.1. </span>SMART-MIPI-APP<a class="headerlink" href="#smart-mipi-app" title="Permalink to this heading">¶</a></h2>
<p>The smart-mipi-app application is targeted to run with Single-MIPI(Leopard IMX274 MIPI)
sensor as input source, and HDMI as output sink. The application supports 4 models - yolov3,
refinedet, densebox, ssd.</p>
<p>Follow these steps to boot the board into Linux. These steps can be skipped
if you are already at the Linux prompt <em>xilinx-vck190-20222</em></p>
<ul class="simple">
<li><p>Ensure all steps under the section <a class="reference internal" href="run-setup.html#board-setup"><span class="std std-ref">Board Setup</span></a> are
verified. Make connections based on the input source and output sink
selected.</p></li>
<li><p>Insert the prepared micro SD card into the Versal SD card slot (refer to the
image in <a class="reference internal" href="run-setup.html#board-setup"><span class="std std-ref">Board Setup</span></a>)</p></li>
<li><p>Have the UART0 terminal emulator tab connected.</p></li>
<li><p>Turn ON power switch SW13.</p></li>
<li><p>On Versal UART0 terminal, you would see the Versal device booting from the
micro SD card starting with the message
“Xilinx Versal Platform Loader and Manager”</p></li>
<li><p>In about 60 seconds boot is complete. Observe the Linux prompt
<em>xilinx-vck190-20222</em> and finish logging in.</p></li>
<li><p>Use command line options provided below to run the smart-mipi-app application</p></li>
</ul>
<section id="examples-for-single-mipi-sensor">
<h3><span class="section-number">3.4.1.1. </span>Examples for single-mipi sensor<a class="headerlink" href="#examples-for-single-mipi-sensor" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p>Run 1 channel mipi camera with 3840x2160 resolution monitor</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>smart-mipi-app<span class="w"> </span>-s
</pre></div>
</div>
</li>
<li><p>Run 1 channel mipi camera with 1920x1080 resolution monitor</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>smart-mipi-app<span class="w"> </span>-s<span class="w"> </span>-W<span class="w"> </span><span class="m">1920</span><span class="w"> </span>-H<span class="w"> </span><span class="m">1080</span>
</pre></div>
</div>
</li>
<li><p>Run 1 channel mipi camera with specified AI model</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>smart-mipi-app<span class="w"> </span>-s<span class="w"> </span>-t<span class="w"> </span>yolov3
</pre></div>
</div>
</li>
<li><p>Run 1 channel mipi camera with specified media device, the default is “/dev/media1”</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>smart-mipi-app<span class="w"> </span>-s<span class="w"> </span>-m<span class="w"> </span><span class="m">2</span>
</pre></div>
</div>
</li>
</ul>
<p><strong>Note:</strong> Currently, Only <strong>yolov3, densebox, refinedet, ssd</strong> models are supported by this application.</p>
</section>
<section id="command-options">
<h3><span class="section-number">3.4.1.2. </span>Command Options:<a class="headerlink" href="#command-options" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>The examples show the capability of the smart-mipi-app for specific configurations. User can get more and detailed
application options as following by invoking</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>smart-mipi-app<span class="w"> </span>-h
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Usage:
smart-mipi-app<span class="w"> </span><span class="o">[</span>OPTION?<span class="o">]</span><span class="w"> </span>-<span class="w"> </span>Application<span class="w"> </span><span class="k">for</span><span class="w"> </span>detction<span class="w"> </span>on<span class="w"> </span>VCK190<span class="w"> </span>board<span class="w"> </span>of<span class="w"> </span>Xilinx.

Examples<span class="w"> </span><span class="k">for</span><span class="w"> </span>single<span class="w"> </span>mipi<span class="w"> </span>camera:
smart-mipi-app<span class="w"> </span>-s
<span class="w">         </span><span class="c1"># Run single channel mipi camera with 3840x2160 resolution monitor.</span>
smart-mipi-app<span class="w"> </span>-s<span class="w"> </span>-W<span class="w"> </span><span class="m">1920</span><span class="w"> </span>-H<span class="w"> </span><span class="m">1080</span>
<span class="w">         </span><span class="c1"># Change to 1920x1080 resolution monitor.</span>
smart-mipi-app<span class="w"> </span>-s<span class="w"> </span>-t<span class="w"> </span>ssd
<span class="w">         </span><span class="c1"># Change ai task from yolov3 to ssd</span>
smart-mipi-app<span class="w"> </span>-s<span class="w"> </span>-m<span class="w"> </span><span class="m">2</span>
<span class="w">         </span><span class="c1"># Change mipi camera device to /dev/media2.</span>

Help<span class="w"> </span>Options:
-h,<span class="w"> </span>--help<span class="w">                                </span>Show<span class="w"> </span><span class="nb">help</span><span class="w"> </span>options
--help-all<span class="w">                                </span>Show<span class="w"> </span>all<span class="w"> </span><span class="nb">help</span><span class="w"> </span>options
--help-gst<span class="w">                                </span>Show<span class="w"> </span>GStreamer<span class="w"> </span>Options

Application<span class="w"> </span>Options:
-v,<span class="w"> </span>--verbose<span class="w">                             </span>print<span class="w"> </span>gstreamer<span class="w"> </span>pipeline
-s,<span class="w"> </span>--single<span class="w">                              </span>only<span class="w"> </span>process<span class="w"> </span>one<span class="w"> </span>channel<span class="w"> </span>video<span class="w"> </span>and<span class="w"> </span>display<span class="w"> </span>fullscreen
-W,<span class="w"> </span>--width<span class="o">=</span>WIDTH<span class="w">                         </span>resolution<span class="w"> </span>width<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>input:<span class="w"> </span><span class="o">[</span><span class="m">1920</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">3840</span><span class="o">]</span>,<span class="w"> </span>default:<span class="w"> </span><span class="m">3840</span>
-H,<span class="w"> </span>--height<span class="o">=</span>HEIGHT<span class="w">                       </span>resolution<span class="w"> </span>height<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>input:<span class="w"> </span><span class="o">[</span><span class="m">1080</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">2160</span><span class="o">]</span>,<span class="w"> </span>default:<span class="w"> </span><span class="m">2160</span>
-t,<span class="w"> </span>--task<span class="o">=</span>TASK<span class="w">                           </span><span class="k">select</span><span class="w"> </span>AI<span class="w"> </span>task<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>run:<span class="w"> </span><span class="o">[</span>yolov3<span class="w"> </span><span class="p">|</span><span class="w"> </span>facedetect<span class="w"> </span><span class="p">|</span><span class="w"> </span>refinedet<span class="w"> </span><span class="p">|</span><span class="w"> </span>ssd<span class="o">]</span>,<span class="w"> </span>default:<span class="w"> </span>yolov3,<span class="w"> </span>work<span class="w"> </span>only<span class="w"> </span>when<span class="w"> </span>single<span class="w"> </span>is<span class="w"> </span><span class="nb">true</span>
--t1<span class="o">=</span>TASK<span class="w">                                 </span><span class="k">select</span><span class="w"> </span>AI<span class="w"> </span>task<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>run<span class="w"> </span><span class="k">for</span><span class="w"> </span>channel<span class="w"> </span><span class="m">1</span>,<span class="w"> </span>default:<span class="w"> </span>refinedet
--t2<span class="o">=</span>TASK<span class="w">                                 </span><span class="k">select</span><span class="w"> </span>AI<span class="w"> </span>task<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>run<span class="w"> </span><span class="k">for</span><span class="w"> </span>channel<span class="w"> </span><span class="m">2</span>,<span class="w"> </span>default:<span class="w"> </span>facedetect
--t3<span class="o">=</span>TASK<span class="w">                                 </span><span class="k">select</span><span class="w"> </span>AI<span class="w"> </span>task<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>run<span class="w"> </span><span class="k">for</span><span class="w"> </span>channel<span class="w"> </span><span class="m">3</span>,<span class="w"> </span>default:<span class="w"> </span>ssd
--t4<span class="o">=</span>TASK<span class="w">                                 </span><span class="k">select</span><span class="w"> </span>AI<span class="w"> </span>task<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>run<span class="w"> </span><span class="k">for</span><span class="w"> </span>channel<span class="w"> </span><span class="m">4</span>,<span class="w"> </span>default:<span class="w"> </span>yolov3
-m,<span class="w"> </span>--media-device<span class="o">=</span>NUM<span class="w">                    </span>num<span class="w"> </span>of<span class="w"> </span>media-device,<span class="w"> </span>default:<span class="w"> </span><span class="m">1</span>
-n,<span class="w"> </span>--channel-num<span class="o">=</span>NUM<span class="w">                     </span>channel<span class="w"> </span>numbers<span class="w"> </span>of<span class="w"> </span>video:<span class="w"> </span><span class="o">[</span><span class="m">1</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">4</span><span class="o">]</span>,<span class="w"> </span>work<span class="w"> </span>only<span class="w"> </span>when<span class="w"> </span>single<span class="w"> </span>is<span class="w"> </span><span class="nb">false</span>
-x,<span class="w"> </span>--xclbin-location<span class="o">=</span>XCLBIN-LOCATION<span class="w">     </span><span class="nb">set</span><span class="w"> </span>path<span class="w"> </span>of<span class="w"> </span>xclbin
-c,<span class="w"> </span>--config-dir<span class="o">=</span>CONFIG-DIR<span class="w">               </span><span class="nb">set</span><span class="w"> </span>config<span class="w"> </span>path<span class="w"> </span>of<span class="w"> </span>gstreamer<span class="w"> </span>plugin
-p,<span class="w"> </span>--performace<span class="w">                          </span>print<span class="w"> </span>performance
</pre></div>
</div>
</section>
<section id="files-structure-of-the-application">
<h3><span class="section-number">3.4.1.3. </span>Files structure of the application<a class="headerlink" href="#files-structure-of-the-application" title="Permalink to this heading">¶</a></h3>
<p>The application is installed as:</p>
<ul>
<li><p>Binary File Directory: /usr/bin</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/usr/bin/smart-mipi-app
</pre></div>
</div>
</li>
<li><p>Configuration file directory: /usr/share/vvas/smart-mipi-app</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="p">|</span>--<span class="w"> </span>facedetect
<span class="p">|</span><span class="w">   </span><span class="p">|</span>--<span class="w"> </span>aiinference.json
<span class="p">|</span><span class="w">   </span><span class="p">|</span>--<span class="w"> </span>drawresult.json
<span class="p">|</span><span class="w">   </span><span class="sb">`</span>--<span class="w"> </span>preprocess.json
<span class="p">|</span>--<span class="w"> </span>refinedet
<span class="p">|</span><span class="w">   </span><span class="p">|</span>--<span class="w"> </span>aiinference.json
<span class="p">|</span><span class="w">   </span><span class="p">|</span>--<span class="w"> </span>drawresult.json
<span class="p">|</span><span class="w">   </span><span class="sb">`</span>--<span class="w"> </span>preprocess.json
<span class="p">|</span>--<span class="w"> </span>ssd
<span class="p">|</span><span class="w">   </span><span class="p">|</span>--<span class="w"> </span>aiinference.json
<span class="p">|</span><span class="w">   </span><span class="p">|</span>--<span class="w"> </span>drawresult.json
<span class="p">|</span><span class="w">   </span><span class="p">|</span>--<span class="w"> </span>label.json
<span class="p">|</span><span class="w">   </span><span class="sb">`</span>--<span class="w"> </span>preprocess.json
<span class="sb">`</span>--<span class="w"> </span>yolov3
<span class="w">    </span><span class="p">|</span>--<span class="w"> </span>aiinference.json
<span class="w">    </span><span class="p">|</span>--<span class="w"> </span>drawresult.json
<span class="w">    </span><span class="sb">`</span>--<span class="w"> </span>preprocess.json
</pre></div>
</div>
</li>
<li><p>Model file directory: /usr/share/vitis_ai_library/models</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="p">|</span>--<span class="w"> </span>densebox_640_360
<span class="p">|</span><span class="w">   </span><span class="p">|</span>--<span class="w"> </span>densebox_640_360.prototxt
<span class="p">|</span><span class="w">   </span><span class="p">|</span>--<span class="w"> </span>densebox_640_360.xmodel
<span class="p">|</span><span class="w">   </span><span class="sb">`</span>--<span class="w"> </span>md5sum.txt
<span class="p">|</span>--<span class="w"> </span>refinedet_pruned_0_96
<span class="p">|</span><span class="w">   </span><span class="p">|</span>--<span class="w"> </span>md5sum.txt
<span class="p">|</span><span class="w">   </span><span class="p">|</span>--<span class="w"> </span>refinedet_pruned_0_96.prototxt
<span class="p">|</span><span class="w">   </span><span class="sb">`</span>--<span class="w"> </span>refinedet_pruned_0_96.xmodel
<span class="p">|</span>--<span class="w"> </span>ssd_adas_pruned_0_95
<span class="p">|</span><span class="w">   </span><span class="p">|</span>--<span class="w"> </span>label.json
<span class="p">|</span><span class="w">   </span><span class="p">|</span>--<span class="w"> </span>md5sum.txt
<span class="p">|</span><span class="w">   </span><span class="p">|</span>--<span class="w"> </span>ssd_adas_pruned_0_95.prototxt
<span class="p">|</span><span class="w">   </span><span class="sb">`</span>--<span class="w"> </span>ssd_adas_pruned_0_95.xmodel
<span class="sb">`</span>--<span class="w"> </span>yolov3_voc_tf
<span class="w">   </span><span class="p">|</span>--<span class="w"> </span>label.json
<span class="w">   </span><span class="p">|</span>--<span class="w"> </span>md5sum.txt
<span class="w">   </span><span class="p">|</span>--<span class="w"> </span>yolov3_voc_tf.prototxt
<span class="w">   </span><span class="sb">`</span>--<span class="w"> </span>yolov3_voc_tf.xmodel
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="pcie-gst-app">
<h2><span class="section-number">3.4.2. </span>PCIE-GST-APP<a class="headerlink" href="#pcie-gst-app" title="Permalink to this heading">¶</a></h2>
<p>The pcie-gst-app application is targeted to show the PCIE related features including transfering video file though PCIE to EP board,
and transfering the raw/processed MIPI images captured at the EP board and transfering back to host machine.</p>
<p>The pcie-gst-app provides mulitple usecases 2 of which are for XVDPU application, each supporting 4 AI models - yolov3, refinedet, densebox and ssd.</p>
<section id="setup">
<h3><span class="section-number">3.4.2.1. </span>Setup<a class="headerlink" href="#setup" title="Permalink to this heading">¶</a></h3>
<p>Please refer to <a class="reference internal" href="run-setup.html#board-and-system-settings"><span class="std std-ref">Board and System settings</span></a> to setup the host machine, and boot the vck190 board.</p>
</section>
<section id="run-host-application">
<h3><span class="section-number">3.4.2.2. </span>Run Host application<a class="headerlink" href="#run-host-application" title="Permalink to this heading">¶</a></h3>
<p><strong>Note:</strong>  Make sure, HOST application is launched before starting EP application.</p>
<p>Here are list of control information passed to endpoint :</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>--<span class="w"> </span>Usecase<span class="w"> </span>to<span class="w"> </span>run.
--<span class="w"> </span>Resolution.
--<span class="w"> </span>Filter<span class="w"> </span>type.
--<span class="w"> </span>FPS<span class="w"> </span><span class="o">(</span>Default<span class="w"> </span>30fps<span class="o">)</span>.
--<span class="w"> </span>Rawvideofile<span class="w"> </span><span class="o">(</span>with<span class="w"> </span>abosolute<span class="w"> </span>path<span class="w"> </span>of<span class="w"> </span>video<span class="w"> </span>file<span class="w"> </span>to<span class="w"> </span>play<span class="o">)</span>.
</pre></div>
</div>
</div></blockquote>
<p>This example demonstrates Usecase-2(MIPI –&gt; DPU Inference –&gt; Appsink(PCIe))</p>
<ol class="arabic">
<li><p>First run Host Machine Software setup steps, then execute pcie_host_app application as following.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ./pcie_host_app</span>
</pre></div>
</div>
</li>
<li><p>From the six usecases select case 2 for MIPI DPU pipeline or 7 for videofile DPU pipeline or 9 to quit application.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ./pcie_host_app</span>
Enter<span class="w"> </span><span class="m">1</span><span class="w"> </span>to<span class="w"> </span>run<span class="w">  </span>:<span class="w"> </span>MIPI--&gt;filter2d--&gt;pciesink--&gt;<span class="w"> </span>displayonhost
Enter<span class="w"> </span><span class="m">2</span><span class="w"> </span>to<span class="w"> </span>run<span class="w">  </span>:<span class="w"> </span>MIPI--&gt;dpu--&gt;pciesink--&gt;<span class="w"> </span>displayonhost
Enter<span class="w"> </span><span class="m">3</span><span class="w"> </span>to<span class="w"> </span>run<span class="w">  </span>:<span class="w"> </span>MIPI--&gt;pciesink--&gt;<span class="w"> </span>displayonhost
Enter<span class="w"> </span><span class="m">4</span><span class="w"> </span>to<span class="w"> </span>run<span class="w">  </span>:<span class="w"> </span>RawVideofilefromHost--&gt;pciesrc--&gt;filter2d--&gt;pciesink--&gt;displayonhost
Enter<span class="w"> </span><span class="m">5</span><span class="w"> </span>to<span class="w"> </span>run<span class="w">  </span>:<span class="w"> </span>RawVideofilefromHost--&gt;<span class="w"> </span>pciesrc--&gt;pciesink--&gt;displayonhost
Enter<span class="w"> </span><span class="m">6</span><span class="w"> </span>to<span class="w"> </span>run<span class="w">  </span>:<span class="w"> </span>RawVideofilefromHost--&gt;<span class="w"> </span>pciesrc--&gt;filter2d--&gt;kmssink
Enter<span class="w"> </span><span class="m">7</span><span class="w"> </span>to<span class="w"> </span>run<span class="w">  </span>:<span class="w"> </span>RawVideofilefromHost--&gt;<span class="w"> </span>pciesrc--&gt;dpu--&gt;kmssink
Enter<span class="w"> </span><span class="m">8</span><span class="w"> </span>to<span class="w"> </span>run<span class="w">  </span>:<span class="w"> </span>RawVideofilefromHost--&gt;<span class="w"> </span>pciesrc--&gt;kmssink
Enter<span class="w"> </span><span class="m">9</span><span class="w"> </span>to<span class="w">      </span>:<span class="w"> </span>Exit<span class="w"> </span>application
</pre></div>
</div>
</li>
<li><p>Select desired resolution (Enter 1 or 2 ):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ./pcie_host_app</span>
Enter<span class="w"> </span><span class="m">1</span><span class="w"> </span>to<span class="w"> </span>run<span class="w">  </span>:<span class="w"> </span>MIPI--&gt;filter2d--&gt;pciesink--&gt;<span class="w"> </span>displayonhost
Enter<span class="w"> </span><span class="m">2</span><span class="w"> </span>to<span class="w"> </span>run<span class="w">  </span>:<span class="w"> </span>MIPI--&gt;dpu--&gt;pciesink--&gt;<span class="w"> </span>displayonhost
Enter<span class="w"> </span><span class="m">3</span><span class="w"> </span>to<span class="w"> </span>run<span class="w">  </span>:<span class="w"> </span>MIPI--&gt;pciesink--&gt;<span class="w"> </span>displayonhost
Enter<span class="w"> </span><span class="m">4</span><span class="w"> </span>to<span class="w"> </span>run<span class="w">  </span>:<span class="w"> </span>RawVideofilefromHost--&gt;pciesrc--&gt;filter2d--&gt;pciesink--&gt;displayonhost
Enter<span class="w"> </span><span class="m">5</span><span class="w"> </span>to<span class="w"> </span>run<span class="w">  </span>:<span class="w"> </span>RawVideofilefromHost--&gt;<span class="w"> </span>pciesrc--&gt;pciesink--&gt;displayonhost
Enter<span class="w"> </span><span class="m">6</span><span class="w"> </span>to<span class="w"> </span>run<span class="w">  </span>:<span class="w"> </span>RawVideofilefromHost--&gt;<span class="w"> </span>pciesrc--&gt;filter2d--&gt;kmssink
Enter<span class="w"> </span><span class="m">7</span><span class="w"> </span>to<span class="w"> </span>run<span class="w">  </span>:<span class="w"> </span>RawVideofilefromHost--&gt;<span class="w"> </span>pciesrc--&gt;dpu--&gt;kmssink
Enter<span class="w"> </span><span class="m">8</span><span class="w"> </span>to<span class="w"> </span>run<span class="w">  </span>:<span class="w"> </span>RawVideofilefromHost--&gt;<span class="w"> </span>pciesrc--&gt;kmssink
Enter<span class="w"> </span><span class="m">9</span><span class="w"> </span>to<span class="w">      </span>:<span class="w"> </span>Exit<span class="w"> </span>application
Enter<span class="w"> </span>your<span class="w"> </span>choice:2
<span class="k">select</span><span class="w"> </span>the<span class="w"> </span>resolution
<span class="m">1</span>.<span class="w"> </span>3840x2160
<span class="m">2</span>.<span class="w"> </span>1920x1080
Enter<span class="w"> </span>your<span class="w"> </span>choice:
</pre></div>
</div>
</li>
</ol>
</section>
<section id="run-end-point-application">
<h3><span class="section-number">3.4.2.3. </span>Run end-point application<a class="headerlink" href="#run-end-point-application" title="Permalink to this heading">¶</a></h3>
<ol class="arabic">
<li><p>Launch pcie-trd-nb1.ipynb jupyter notebook. (For MIPI use case modify ‘res’ variable same as one selected at host application).</p>
<p><strong>Note:</strong> Endpoint application exits after running the usecase, Hence restart <cite>pcie-trd-nb1.ipynb</cite> jupyter notebook to relaunch the endpoint application.</p>
</li>
<li><p>The MIPI camera captured view with AI detection bounding box will start playing on the monitor.</p></li>
</ol>
<hr class="docutils" />
<p>Licensed under the Apache License, Version 2.0 (the “License”); you may not use this file
except in compliance with the License.</p>
<p>You may obtain a copy of the License at
<a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the
License is distributed on an “AS IS” BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
either express or implied. See the License for the specific language governing permissions
and limitations under the License.</p>
</section>
</section>
</section>


           </div>
          </div>
          
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
				  
				  <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="run-filter2d.html" class="btn btn-neutral float-left" title="3.3. Run 2D Filter Application" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../build.html" class="btn btn-neutral float-right" title="4. Build an Image" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023-2023, Advanced Micro Devices, Inc.
      <span class="lastupdated">Last updated on May 19, 2023.
      </span></p>
  </div>



										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">

													                    <div class="row">
                        <div class="col-xs-24">
                          <p><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a> | <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a> | <a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a> | <a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a> | <a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></p>
                        </div>
                    </div>
												</div>
											</div>
										</div>
										
</br>


  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>