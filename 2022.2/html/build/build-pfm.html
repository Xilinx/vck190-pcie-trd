<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->

<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="03af8d57-0a04-47a6-8f10-322fa00d8fc7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
<!-- Google Tag Manager -->
<script type="text/plain" class="optanon-category-C0002">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5RHQV7');</script>
<!-- End Google Tag Manager -->
  <title>4.2. Create the Vitis Platform &mdash; Versal PCIe TRD 2022.2 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4.3. Integrate 2D Filter Kernels in the Platform" href="build-filter2d.html" />
    <link rel="prev" title="4.1. Tool Flow Overview" href="build-overview.html" /> 
</head>

<body class="wy-body-for-nav">

<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5RHQV7" height="0" width="0" style="display:none;visibility:hidden" class="optanon-category-C0002"></iframe></noscript>
<!-- End Google Tag Manager --> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="../index.html" class="icon icon-home"> Versal PCIe TRD
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../revision.html">1. Revision History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">2. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../run.html">3. Run the Prebuilt Image</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../build.html">4. Build an Image</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="build-overview.html">4.1. Tool Flow Overview</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.2. Create the Vitis Platform</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#prerequisites">4.2.1. Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-flow-tutorial">4.2.2. Build Flow Tutorial</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="build-filter2d.html">4.3. Integrate 2D Filter Kernels in the Platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="build-xvdpu.html">4.4. Integrate XVDPU and Multiscaler Kernels in the Platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="build-plnx.html">4.5. Build the PetaLinux Image</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../arch.html">5. Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../known-issues.html">6. Known Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">7. Support</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: black" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Versal PCIe TRD</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../build.html"><span class="section-number">4. </span>Build an Image</a> &raquo;</li>
      <li><span class="section-number">4.2. </span>Create the Vitis Platform</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/build/build-pfm.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="create-the-vitis-platform">
<span id="create-a-vitis-extensible-platform"></span><h1><span class="section-number">4.2. </span>Create the Vitis Platform<a class="headerlink" href="#create-the-vitis-platform" title="Permalink to this heading">¶</a></h1>
<section id="prerequisites">
<h2><span class="section-number">4.2.1. </span>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Reference Design source files</p></li>
<li><p>Vivado Design Suite 2022.2</p></li>
<li><p>Vitis Unified Software Platform 2022.2</p></li>
</ul>
</section>
<section id="build-flow-tutorial">
<h2><span class="section-number">4.2.2. </span>Build Flow Tutorial<a class="headerlink" href="#build-flow-tutorial" title="Permalink to this heading">¶</a></h2>
<p><strong>Clone the Reference Design Files:</strong></p>
<p>Skip this step if the design has already been cloned and
extracted to a working directory</p>
<ol class="arabic">
<li><p>Clone the VCK190 Base TRD repository using the following command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>--branch<span class="w"> </span><span class="m">2022</span>.2<span class="w"> </span>--recursive<span class="w"> </span>https://github.com/Xilinx/vck190-pcie-trd.git
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p>The directory structure is described in the Introduction Section.</p>
</div></blockquote>
<p><strong>Create a Vitis Extensible Platform:</strong></p>
<ol class="arabic">
<li><p>To create the Vitis platform, run the following Make script:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="nv">$working_dir</span>
make<span class="w"> </span>platform<span class="w"> </span><span class="nv">PFM</span><span class="o">=</span>vck190_mipiRxSingle_hdmiTx
</pre></div>
</div>
</li>
<li><p>The generated platform will be located at:</p>
<p><em>$working_dir/platforms/xilinx_vck190_mipiRxSingle_hdmiTx_202220_1</em></p>
<p>It will be used as input when building the Vitis accelerator projects.</p>
</li>
<li><p>The Makefile implements the following:</p>
<ul class="simple">
<li><p>Builds the ISP pipeline from the Vitis Vision Libraries using Vitis HLS tool.</p></li>
<li><p>Generates the XSA for the platform using Vivado tool.</p></li>
</ul>
</li>
<li><p>The following is a list of important output products:</p>
<ul class="simple">
<li><dl class="simple">
<dt>IP files</dt><dd><p><em>$working_dir/platforms/vivado/ip</em></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Vivado project</dt><dd><p><em>$working_dir/platforms/vivado/vck190_mipiRxSingle_hdmiTx/project/vck190_mipiRxSingle_hdmiTx.xpr</em></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>XSA</dt><dd><p><em>$working_dir/platforms/vivado/vck190_mipiRxSingle_hdmiTx/project/vck190_mipiRxSingle_hdmiTx.xsa</em></p>
</dd>
</dl>
</li>
</ul>
</li>
</ol>
<p><strong>View Platform Interfaces (Optional)</strong></p>
<ol class="arabic">
<li><p>Open the Vivado project.</p>
<p>At the command prompt enter:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="nv">$working_dir</span>/platform/vivado/vck190_mipiRxSingle_hdmiTx/project
vivado<span class="w"> </span>vck190_mipiRxSingle_hdmiTx.xpr
</pre></div>
</div>
</li>
<li><p>In the Flow Navigator pane on the left-hand side under IP Integrator, click
on <em>Open Block Design</em>. An IP Integrator (IPI) block design
(<em>vck190_mipiRxSingle_hdmiTx.bd</em>) becomes visible that contains the
Control, Interface and Processing System (CIPS) IP, NOC IP,
AXI Performace Monitors (APM), MIPI CSI capture pipeline and HDMI Tx display
pipeline.</p></li>
<li><p>To view the Platform interfaces that are enabled for Vitis compiler to stitch
in accelerators, on the tool bar at the top click on  <em>Window &gt;
Platform Setup</em>. Platform interfaces are enabled under the following IPs</p>
<ul class="simple">
<li><p>clk_wiz: Clocks used to drive clock inputs on the accelerator.</p></li>
<li><p>smartconnect_gp2: AXI Memory Mapped master ports to drive the accelerator
control port.</p></li>
<li><p>NOC_0: AXI Memory Mapped slave ports driven by the
accelerator data port.</p></li>
<li><p>intc_0: Interrupt contoller to forward interrupts from the accelerator to
the Procesing System</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For more information on how to setup Platform Interfaces refer to Section
- Creating an Embedded Platform in Xilinx Vitis Unified Software Platform Documentation(UG1393)</p>
</div>
</li>
</ol>
<hr class="docutils" />
<p>Licensed under the Apache License, Version 2.0 (the “License”); you may not use this file
except in compliance with the License.</p>
<p>You may obtain a copy of the License at
<a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the
License is distributed on an “AS IS” BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
either express or implied. See the License for the specific language governing permissions
and limitations under the License.</p>
</section>
</section>


           </div>
          </div>
          
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
				  
				  <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="build-overview.html" class="btn btn-neutral float-left" title="4.1. Tool Flow Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="build-filter2d.html" class="btn btn-neutral float-right" title="4.3. Integrate 2D Filter Kernels in the Platform" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023-2023, Advanced Micro Devices, Inc.
      <span class="lastupdated">Last updated on May 19, 2023.
      </span></p>
  </div>



										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">

													                    <div class="row">
                        <div class="col-xs-24">
                          <p><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a> | <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a> | <a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a> | <a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a> | <a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></p>
                        </div>
                    </div>
												</div>
											</div>
										</div>
										
</br>


  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>